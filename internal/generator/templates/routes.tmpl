// Code generated by taskw. DO NOT EDIT.

package {{.Package}}

import (
{{- range .Imports}}
	{{.}}
{{- end}}
)

// Router automatically registers routes from handler structs
type Router struct {
	app *fiber.App
	{{- range .Handlers}}
	{{.FieldName}} {{.TypeName}}
	{{- end}}
}

// ProvideRouter creates a new auto router
func ProvideRouter(app *fiber.App{{range .Handlers}}, {{.ParamName}} {{.TypeName}}{{end}}) *Router {
	return &Router{
		app: app,
		{{- range .Handlers}}
		{{.FieldName}}: {{.ParamName}},
		{{- end}}
	}
}

// RegisterHandlers registers all HTTP routes with the Fiber app
func (ar *Router) RegisterHandlers() {
	{{- range $routes := .Routes}}
	ar.app.{{call $.GetRouterMethod .HTTPMethod}}("{{.Path}}", {{call $.GetHandlerRef .Package .HandlerRef}})
	{{- end}}
}
